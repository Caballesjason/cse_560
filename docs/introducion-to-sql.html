<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>3 Introducion to SQL | CSE 560 - Notes</title>
<meta name="author" content="Jason Caballes">
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="3 Introducion to SQL | CSE 560 - Notes">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="3 Introducion to SQL | CSE 560 - Notes">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<meta name="description" content="3.1 Partition of the SQL language The current standard for SQL is SQL-99. There are two aspects to the SQL language: 1. The Data Definition Language (DDL) to declare database schemas 2. The Data...">
<meta property="og:description" content="3.1 Partition of the SQL language The current standard for SQL is SQL-99. There are two aspects to the SQL language: 1. The Data Definition Language (DDL) to declare database schemas 2. The Data...">
<meta name="twitter:description" content="3.1 Partition of the SQL language The current standard for SQL is SQL-99. There are two aspects to the SQL language: 1. The Data Definition Language (DDL) to declare database schemas 2. The Data...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CSE 560 - Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Jason’s CSE 560 Notes</a></li>
<li><a class="" href="relational-databases.html"><span class="header-section-number">1</span> Relational Databases</a></li>
<li><a class="" href="relational-algebra.html"><span class="header-section-number">2</span> Relational Algebra</a></li>
<li><a class="active" href="introducion-to-sql.html"><span class="header-section-number">3</span> Introducion to SQL</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="introducion-to-sql" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Introducion to SQL<a class="anchor" aria-label="anchor" href="#introducion-to-sql"><i class="fas fa-link"></i></a>
</h1>
<div id="partition-of-the-sql-language" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Partition of the SQL language<a class="anchor" aria-label="anchor" href="#partition-of-the-sql-language"><i class="fas fa-link"></i></a>
</h2>
<p>The current standard for SQL is <strong>SQL-99</strong>. There are two aspects to the SQL language:<br>
1. The <strong>Data Definition Language (DDL)</strong> to declare database schemas<br>
2. The <strong>Data Manipulation Language (DML)</strong> sub-language for querying/modifying databases</p>
<div id="why-sql" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> Why SQL?<a class="anchor" aria-label="anchor" href="#why-sql"><i class="fas fa-link"></i></a>
</h3>
<p>SQL is a high level language. When using SQL, we simply ask “what to do” rather than “how to do it.”. This allows to disregard complex data manipulation and DBMS utilize <em>query optimizations</em> to optimize queries.</p>
</div>
</div>
<div id="relations-in-sql" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Relations in SQL<a class="anchor" aria-label="anchor" href="#relations-in-sql"><i class="fas fa-link"></i></a>
</h2>
<p>SQL makes a distinction between three kinds of relations:<br>
1. <strong>Stored relations</strong>, which are called <strong>tables</strong><br>
2. <strong>Views</strong>, which are relations designed by some computation. These relations are not stored in memory, but constructed when needed<br>
3. <strong>Temporary Tables</strong> which are constructed by the SQL language processor when executing queries and data modifications. These relations are not stored in memory and discarded when no longer used.</p>
<p>Before we dive into operations in SQL, we will go over the order of execution for any query. The order of execution for any query is as follows</p>
<ol style="list-style-type: decimal">
<li><code>FROM</code></li>
<li><code>JOIN</code></li>
<li><code>WHERE</code></li>
<li><code>GROUP BY</code></li>
<li><code>HAVING</code></li>
<li><code>SELECT</code></li>
<li><code>ORDER BY</code></li>
<li><code>LIMIT</code></li>
</ol>
<p>This is also the meaning of a <em>single relation query</em></p>
<p>To declare a schema for a stored relation, do the following</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3-1"><a href="introducion-to-sql.html#cb3-1" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> MovieStar( <span class="co">-- CREATE TABLE Initializes the create of the MovieStar schema</span></span>
<span id="cb3-2"><a href="introducion-to-sql.html#cb3-2" tabindex="-1"></a>  name <span class="dt">CHAR</span>(<span class="dv">30</span>)         <span class="co">-- For every attribute, declare its data type</span></span>
<span id="cb3-3"><a href="introducion-to-sql.html#cb3-3" tabindex="-1"></a>  ,address <span class="dt">CHAR</span>(<span class="dv">30</span>)</span>
<span id="cb3-4"><a href="introducion-to-sql.html#cb3-4" tabindex="-1"></a>  ,gender <span class="dt">char</span>(<span class="dv">1</span>)</span>
<span id="cb3-5"><a href="introducion-to-sql.html#cb3-5" tabindex="-1"></a>  ,birthdate <span class="dt">date</span></span>
<span id="cb3-6"><a href="introducion-to-sql.html#cb3-6" tabindex="-1"></a><span class="kw">PRIMARY</span> <span class="kw">KEY</span> (name)  <span class="co">-- Assign the name attribute as the primary key for the schema</span></span>
<span id="cb3-7"><a href="introducion-to-sql.html#cb3-7" tabindex="-1"></a>);</span></code></pre></div>
</div>
<div id="foreign-keys" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Foreign Keys<a class="anchor" aria-label="anchor" href="#foreign-keys"><i class="fas fa-link"></i></a>
</h2>
<p>A foreign key is designed to create a relationship between two or more relations utilizing attributes that are similar to each other. We say “similar”because these attributes can have different names for each relation. Foreign keys reference primary keys or “unique” attributes from other relations.</p>
<p>The table that contains a foreign key is referencing an attribute from another table. The relations with the foreign key is the <em>referencing table</em> while the relation that the referencing relation is referring to is known as the <em>referenced table</em>. There is no constraint to how many foreign keys a table may have, as long as they define a relationship to another relation.</p>
<p>There are two ways to declare a column to be a foreign key. Both use the keyword <code>REFERENCE</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb4-1"><a href="introducion-to-sql.html#cb4-1" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Student(</span>
<span id="cb4-2"><a href="introducion-to-sql.html#cb4-2" tabindex="-1"></a>  <span class="kw">id</span> <span class="dt">VARCHAR</span>(<span class="dv">5</span>)</span>
<span id="cb4-3"><a href="introducion-to-sql.html#cb4-3" tabindex="-1"></a>  ,name <span class="dt">VARCHAR</span>(<span class="dv">20</span>) <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb4-4"><a href="introducion-to-sql.html#cb4-4" tabindex="-1"></a>  ,dept_name <span class="dt">VARCHAR</span>(<span class="dv">20</span>)</span>
<span id="cb4-5"><a href="introducion-to-sql.html#cb4-5" tabindex="-1"></a>  ,tot_cred <span class="dt">NUMERIC</span>(<span class="dv">3</span>, <span class="dv">0</span>) <span class="co">-- 3 indicates the total # of digits allowed for the float while 0 indicates the number of digits allowed after the decimal point</span></span>
<span id="cb4-6"><a href="introducion-to-sql.html#cb4-6" tabindex="-1"></a>  ,<span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)</span>
<span id="cb4-7"><a href="introducion-to-sql.html#cb4-7" tabindex="-1"></a>  ,<span class="kw">FOREIGN</span> <span class="kw">KEY</span> (dept_name) <span class="kw">REFERENCES</span> department</span>
<span id="cb4-8"><a href="introducion-to-sql.html#cb4-8" tabindex="-1"></a>);</span>
<span id="cb4-9"><a href="introducion-to-sql.html#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="introducion-to-sql.html#cb4-10" tabindex="-1"></a><span class="co">-- This needs to be reviewed</span></span></code></pre></div>
</div>
<div id="select-from-where-statements" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> SELECT, FROM, WHERE Statements<a class="anchor" aria-label="anchor" href="#select-from-where-statements"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<code>SELECT</code>: Chooses a subset of tuples</li>
<li>
<code>FROM</code>: Chooses which relation to pull data from</li>
<li>
<code>WHERE</code>: Choose tuples based on conditions</li>
</ul>
</div>
<div id="relation-schema-modification" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> Relation Schema Modification<a class="anchor" aria-label="anchor" href="#relation-schema-modification"><i class="fas fa-link"></i></a>
</h2>
<div id="deleting-relations" class="section level3" number="3.5.1">
<h3>
<span class="header-section-number">3.5.1</span> Deleting Relations<a class="anchor" aria-label="anchor" href="#deleting-relations"><i class="fas fa-link"></i></a>
</h3>
<p>This is how we can delete relations</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="introducion-to-sql.html#cb5-1" tabindex="-1"></a><span class="kw">DELETE</span> <span class="co">-- Some Table</span></span>
<span id="cb5-2"><a href="introducion-to-sql.html#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="introducion-to-sql.html#cb5-3" tabindex="-1"></a><span class="co">-- We can also do this</span></span>
<span id="cb5-4"><a href="introducion-to-sql.html#cb5-4" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> <span class="co">-- Some Table</span></span></code></pre></div>
</div>
<div id="altering-tables" class="section level3" number="3.5.2">
<h3>
<span class="header-section-number">3.5.2</span> Altering Tables<a class="anchor" aria-label="anchor" href="#altering-tables"><i class="fas fa-link"></i></a>
</h3>
<p>This is how we alter tables</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="introducion-to-sql.html#cb6-1" tabindex="-1"></a><span class="co">-- Adding a attribute "surname" to Instructor1 --</span></span>
<span id="cb6-2"><a href="introducion-to-sql.html#cb6-2" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instructor1 <span class="kw">ADD</span> surname <span class="dt">CHAR</span>(<span class="dv">100</span>);</span>
<span id="cb6-3"><a href="introducion-to-sql.html#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="introducion-to-sql.html#cb6-4" tabindex="-1"></a><span class="co">-- Dropping surname from Instructor1 --</span></span>
<span id="cb6-5"><a href="introducion-to-sql.html#cb6-5" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instructor1 <span class="kw">DROP</span> surname;</span>
<span id="cb6-6"><a href="introducion-to-sql.html#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="introducion-to-sql.html#cb6-7" tabindex="-1"></a><span class="co">-- Renaming department attribute to dept from Instructor</span></span>
<span id="cb6-8"><a href="introducion-to-sql.html#cb6-8" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instuctor <span class="kw">RENAME</span> <span class="kw">COLUMN</span> Department <span class="kw">TO</span> dept;</span>
<span id="cb6-9"><a href="introducion-to-sql.html#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="introducion-to-sql.html#cb6-10" tabindex="-1"></a><span class="co">-- Renaming relation Instructor to "Teacher"</span></span>
<span id="cb6-11"><a href="introducion-to-sql.html#cb6-11" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instuctor <span class="kw">RENAME</span> <span class="kw">TO</span> Teacher;</span></code></pre></div>
<p><br></p>
</div>
</div>
<div id="select" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> SELECT<a class="anchor" aria-label="anchor" href="#select"><i class="fas fa-link"></i></a>
</h2>
<p><code>SELECT</code> chooses the attributes that you want in your query. It corresponds to the projection operator <span class="math inline">\(\pi_{C}{(R)}\)</span>. In SQL, names of relations and attributes are not case sensitive. In practice, any keywords should be capitalized.</p>
<p>For example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="introducion-to-sql.html#cb7-1" tabindex="-1"></a><span class="co">-- Using the SELECT clause to grab the name attribute! --</span></span>
<span id="cb7-2"><a href="introducion-to-sql.html#cb7-2" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb7-3"><a href="introducion-to-sql.html#cb7-3" tabindex="-1"></a><span class="kw">FROM</span> instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:SELECT Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">McKinnon</td>
</tr>
<tr class="even">
<td align="left">Pingr</td>
</tr>
<tr class="odd">
<td align="left">Mird</td>
</tr>
<tr class="even">
<td align="left">Luo</td>
</tr>
<tr class="odd">
<td align="left">Murata</td>
</tr>
</tbody>
</table></div>
</div>
<p>A short handed way to project all attributes from a relation is by using an asterisk <code>*</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="introducion-to-sql.html#cb8-1" tabindex="-1"></a><span class="co">-- Return all attributes for all tuples with manf=Anheuser-Busch</span></span>
<span id="cb8-2"><a href="introducion-to-sql.html#cb8-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb8-3"><a href="introducion-to-sql.html#cb8-3" tabindex="-1"></a><span class="kw">FROM</span> Beers</span>
<span id="cb8-4"><a href="introducion-to-sql.html#cb8-4" tabindex="-1"></a><span class="kw">WHERE</span> manf<span class="op">=</span><span class="st">'Anheuser-Busch'</span>;</span></code></pre></div>
<p>SQL is an interpreted language (like python). Therefore code gets executed line by line! Likewise each tuple in a relation gets evaluated one at a time to see if it should be returned in the output relation.</p>
<p>For example, suppose we have the following query:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="introducion-to-sql.html#cb9-1" tabindex="-1"></a><span class="co">-- Grabbing the 'name' attribute from Beers --</span></span>
<span id="cb9-2"><a href="introducion-to-sql.html#cb9-2" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb9-3"><a href="introducion-to-sql.html#cb9-3" tabindex="-1"></a><span class="kw">FROM</span> Beers</span>
<span id="cb9-4"><a href="introducion-to-sql.html#cb9-4" tabindex="-1"></a><span class="kw">WHERE</span> manf<span class="op">=</span><span class="st">'Anheuser-Busch'</span>;</span></code></pre></div>
<p>For every tuple, the name component is being evaluated. If the component has the value “Anheuser-Busch”, then tuple is returned in the new relation!</p>
<div class="float">
<img src="images/03-operationSemantics.png" style="width:100.0%" alt="Operation Semantics"><div class="figcaption">Operation Semantics</div>
</div>
<p>We can also add new attributes using the attributes from the relation we are retrieving data from.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="introducion-to-sql.html#cb10-1" tabindex="-1"></a><span class="kw">SELECT</span> bar,</span>
<span id="cb10-2"><a href="introducion-to-sql.html#cb10-2" tabindex="-1"></a>  ,beer</span>
<span id="cb10-3"><a href="introducion-to-sql.html#cb10-3" tabindex="-1"></a>  ,price<span class="op">*</span><span class="dv">114</span> <span class="kw">AS</span> PriceInYen</span>
<span id="cb10-4"><a href="introducion-to-sql.html#cb10-4" tabindex="-1"></a><span class="kw">FROM</span> Sells;</span></code></pre></div>
<div id="distinctall" class="section level3" number="3.6.1">
<h3>
<span class="header-section-number">3.6.1</span> DISTINCT/ALL<a class="anchor" aria-label="anchor" href="#distinctall"><i class="fas fa-link"></i></a>
</h3>
<p>SQL allows for duplicate tuples, therefore, to return strictly unique tuples, you can use the <code>DISTINCT</code> clause.</p>
<p>For example:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="introducion-to-sql.html#cb11-1" tabindex="-1"></a><span class="co">-- Grabbing the unique department names from Instructor --</span></span>
<span id="cb11-2"><a href="introducion-to-sql.html#cb11-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> dept_name</span>
<span id="cb11-3"><a href="introducion-to-sql.html#cb11-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:DISTINCT Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">dept_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Cybernetics</td>
</tr>
<tr class="even">
<td align="left">Statistics</td>
</tr>
<tr class="odd">
<td align="left">Marketing</td>
</tr>
<tr class="even">
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">Athletics</td>
</tr>
</tbody>
</table></div>
</div>
<p>In contrast, the SQL keyword <code>ALL</code> allows you to explicitly state that duplicates should not be removed.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="introducion-to-sql.html#cb12-1" tabindex="-1"></a><span class="co">-- Grabbing all instances of dept_name attribute from Instructor --</span></span>
<span id="cb12-2"><a href="introducion-to-sql.html#cb12-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">ALL</span> dept_name</span>
<span id="cb12-3"><a href="introducion-to-sql.html#cb12-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:ALL Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">dept_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Cybernetics</td>
</tr>
<tr class="even">
<td align="left">Statistics</td>
</tr>
<tr class="odd">
<td align="left">Marketing</td>
</tr>
<tr class="even">
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">Athletics</td>
</tr>
</tbody>
</table></div>
</div>
<p>The rest of the examples in this section will use the following relations</p>
<p><span class="math display">\[
Beers(\underline{name}, manf) \\
Bars (\underline{name}, addr, license) \\
Drinkers(\underline{name}, addr, phone) \\
Likes(\underline{drinker}, {beer}) \\
Sells(\underline{bar}, {beer}, price) \\
Frequents(\underline{drinker}, {bar})
\\~\\
\text{Note: underlined attributes indicate keys}
\]</span>
<!--- Must review this example --->
Here is another example using <code>All</code>.</p>
<p>Using <code>Frequents</code> and <code>Likes</code>, list all drinks who go to a higher number of different bars than they like different beers and does so as many times as the difference of those counts.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="introducion-to-sql.html#cb13-1" tabindex="-1"></a><span class="kw">SELECT</span> drinker</span>
<span id="cb13-2"><a href="introducion-to-sql.html#cb13-2" tabindex="-1"></a><span class="kw">FROM</span> Frequents</span>
<span id="cb13-3"><a href="introducion-to-sql.html#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="introducion-to-sql.html#cb13-4" tabindex="-1"></a><span class="kw">EXCEPT</span> <span class="kw">ALL</span></span>
<span id="cb13-5"><a href="introducion-to-sql.html#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="introducion-to-sql.html#cb13-6" tabindex="-1"></a><span class="kw">SELECT</span> drinker</span>
<span id="cb13-7"><a href="introducion-to-sql.html#cb13-7" tabindex="-1"></a><span class="kw">FROM</span> Likes;</span></code></pre></div>
<p>In this query, <code>EXCEPT</code> returns distinct rows from the top query that are not in the bottom query.</p>
<p>Here is another example using <code>DISTINCT</code>.
From <code>Sells</code>, find the different prices charged for beers</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="introducion-to-sql.html#cb14-1" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> price</span>
<span id="cb14-2"><a href="introducion-to-sql.html#cb14-2" tabindex="-1"></a><span class="kw">FROM</span> Sells;</span></code></pre></div>
<p>If distinct was not used, then your output relation would see duplicates of prices!</p>
</div>
<div id="select-and-literals" class="section level3" number="3.6.2">
<h3>
<span class="header-section-number">3.6.2</span> SELECT and Literals<a class="anchor" aria-label="anchor" href="#select-and-literals"><i class="fas fa-link"></i></a>
</h3>
<p>You can assign relations to contain only literals (any primative data type).</p>
<p>For example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb15-1"><a href="introducion-to-sql.html#cb15-1" tabindex="-1"></a><span class="co">-- Selecting a literal --</span></span>
<span id="cb15-2"><a href="introducion-to-sql.html#cb15-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="st">'437'</span> <span class="kw">AS</span> <span class="st">'Literal'</span>;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:SELECT Literal)1 records</caption>
<thead><tr class="header">
<th align="left">Literal</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">437</td>
</tr></tbody>
</table></div>
</div>
<p>Here we have returned a <span class="math inline">\(1 \times 1\)</span> relation with an attribute name <code>Literal</code> with a value of “437”.</p>
<p>If we add <code>FROM</code>, to the query, we will have an <span class="math inline">\(n\times{1}\)</span> relation for <span class="math inline">\(n\)</span> tuples in the relation we are referencing in <code>FROM</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb16-1"><a href="introducion-to-sql.html#cb16-1" tabindex="-1"></a><span class="co">-- Selecting a literal with FROM --</span></span>
<span id="cb16-2"><a href="introducion-to-sql.html#cb16-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="st">'437'</span> <span class="kw">AS</span> <span class="st">'Literal'</span></span>
<span id="cb16-3"><a href="introducion-to-sql.html#cb16-3" tabindex="-1"></a><span class="kw">FROM</span> instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:SELECT Literal Example 2)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">Literal</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">437</td>
</tr>
<tr class="even">
<td align="left">437</td>
</tr>
<tr class="odd">
<td align="left">437</td>
</tr>
<tr class="even">
<td align="left">437</td>
</tr>
<tr class="odd">
<td align="left">437</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="where" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> WHERE<a class="anchor" aria-label="anchor" href="#where"><i class="fas fa-link"></i></a>
</h2>
<p>The <code>WHERE</code> clause specifies conditions must pass for a tuple to be returned. You can use comparators and logical connectives (<code>AND</code>, <code>OR</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>=</code>, <code>&lt;&gt;</code>).</p>
<p>For example, we will select all instructors from the Computer Science department who have a salary greater than $80,000</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb17-1"><a href="introducion-to-sql.html#cb17-1" tabindex="-1"></a><span class="co">-- SELECTING CS Instructors who make that bread --</span></span>
<span id="cb17-2"><a href="introducion-to-sql.html#cb17-2" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb17-3"><a href="introducion-to-sql.html#cb17-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor</span>
<span id="cb17-4"><a href="introducion-to-sql.html#cb17-4" tabindex="-1"></a><span class="kw">WHERE</span> dept_name<span class="op">=</span><span class="st">'Comp. Sci.'</span>;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:WHERE Example)2 records</caption>
<thead><tr class="header">
<th align="left">name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Bondi</td>
</tr>
<tr class="even">
<td align="left">Bourrier</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="from-clause-with-multiple-relations" class="section level2" number="3.8">
<h2>
<span class="header-section-number">3.8</span> FROM Clause with Multiple Relations<a class="anchor" aria-label="anchor" href="#from-clause-with-multiple-relations"><i class="fas fa-link"></i></a>
</h2>
<p><code>FROM</code> allows you to choose where you are sourcing your data. This clause corresponds to the Cartesian Product in relational algebra.</p>
<p>For example, the following returns the cartesian product <span class="math inline">\(Instructor \times Teaches\)</span></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb18-1"><a href="introducion-to-sql.html#cb18-1" tabindex="-1"></a><span class="co">-- Cartesian Product Of Instructor and Teaches --</span></span>
<span id="cb18-2"><a href="introducion-to-sql.html#cb18-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb18-3"><a href="introducion-to-sql.html#cb18-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor, Teaches;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:FROM Example)Displaying records 1 - 10</caption>
<colgroup>
<col width="8%">
<col width="12%">
<col width="16%">
<col width="12%">
<col width="8%">
<col width="13%">
<col width="9%">
<col width="12%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">ID</th>
<th align="left">name</th>
<th align="left">dept_name</th>
<th align="right">salary</th>
<th align="left">ID</th>
<th align="left">course_id</th>
<th align="left">sec_id</th>
<th align="left">semester</th>
<th align="right">year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">34175</td>
<td align="left">747</td>
<td align="left">1</td>
<td align="left">Spring</td>
<td align="right">2004</td>
</tr>
<tr class="even">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">3199</td>
<td align="left">169</td>
<td align="left">1</td>
<td align="left">Spring</td>
<td align="right">2007</td>
</tr>
<tr class="odd">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">6569</td>
<td align="left">445</td>
<td align="left">1</td>
<td align="left">Spring</td>
<td align="right">2001</td>
</tr>
<tr class="even">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">28097</td>
<td align="left">808</td>
<td align="left">1</td>
<td align="left">Fall</td>
<td align="right">2003</td>
</tr>
<tr class="odd">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">22591</td>
<td align="left">962</td>
<td align="left">1</td>
<td align="left">Spring</td>
<td align="right">2008</td>
</tr>
<tr class="even">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">90376</td>
<td align="left">158</td>
<td align="left">1</td>
<td align="left">Fall</td>
<td align="right">2008</td>
</tr>
<tr class="odd">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">3199</td>
<td align="left">561</td>
<td align="left">1</td>
<td align="left">Fall</td>
<td align="right">2006</td>
</tr>
<tr class="even">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">34175</td>
<td align="left">274</td>
<td align="left">1</td>
<td align="left">Fall</td>
<td align="right">2002</td>
</tr>
<tr class="odd">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">34175</td>
<td align="left">571</td>
<td align="left">1</td>
<td align="left">Spring</td>
<td align="right">2004</td>
</tr>
<tr class="even">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">79081</td>
<td align="left">345</td>
<td align="left">1</td>
<td align="left">Spring</td>
<td align="right">2008</td>
</tr>
</tbody>
</table></div>
</div>
<p>If there is a naming conflict between attributes of different relations, you must explicitly rename the attributes.</p>
<p>For example</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb19-1"><a href="introducion-to-sql.html#cb19-1" tabindex="-1"></a><span class="co">-- Renaming attributes with the same name --</span></span>
<span id="cb19-2"><a href="introducion-to-sql.html#cb19-2" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb19-3"><a href="introducion-to-sql.html#cb19-3" tabindex="-1"></a>  ,instructor.dept_name <span class="kw">AS</span> dept1</span>
<span id="cb19-4"><a href="introducion-to-sql.html#cb19-4" tabindex="-1"></a>  ,salary</span>
<span id="cb19-5"><a href="introducion-to-sql.html#cb19-5" tabindex="-1"></a>  ,department.dept_name <span class="kw">AS</span> dept2</span>
<span id="cb19-6"><a href="introducion-to-sql.html#cb19-6" tabindex="-1"></a>  ,building</span>
<span id="cb19-7"><a href="introducion-to-sql.html#cb19-7" tabindex="-1"></a><span class="kw">FROM</span> instructor, department</span>
<span id="cb19-8"><a href="introducion-to-sql.html#cb19-8" tabindex="-1"></a><span class="kw">WHERE</span> instructor.dept_name<span class="op">=</span>department.dept_name;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:FROM Naming Conflict Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">name</th>
<th align="left">dept1</th>
<th align="right">salary</th>
<th align="left">dept2</th>
<th align="left">building</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
<td align="left">Cybernetics</td>
<td align="left">Mercer</td>
</tr>
<tr class="even">
<td align="left">Pingr</td>
<td align="left">Statistics</td>
<td align="right">59303.62</td>
<td align="left">Statistics</td>
<td align="left">Taylor</td>
</tr>
<tr class="odd">
<td align="left">Mird</td>
<td align="left">Marketing</td>
<td align="right">119921.41</td>
<td align="left">Marketing</td>
<td align="left">Lambeau</td>
</tr>
<tr class="even">
<td align="left">Luo</td>
<td align="left">English</td>
<td align="right">88791.45</td>
<td align="left">English</td>
<td align="left">Palmer</td>
</tr>
<tr class="odd">
<td align="left">Murata</td>
<td align="left">Athletics</td>
<td align="right">61387.56</td>
<td align="left">Athletics</td>
<td align="left">Bronfman</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="rename" class="section level2" number="3.9">
<h2>
<span class="header-section-number">3.9</span> RENAME<a class="anchor" aria-label="anchor" href="#rename"><i class="fas fa-link"></i></a>
</h2>
<p>Using <code>AS</code>, we can rename relations and attributes</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb20-1"><a href="introducion-to-sql.html#cb20-1" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> T.name</span>
<span id="cb20-2"><a href="introducion-to-sql.html#cb20-2" tabindex="-1"></a><span class="kw">FROM</span> Instructor <span class="kw">AS</span> T, Instructor <span class="kw">AS</span> S <span class="co">-- WE have two copies of Instructors!</span></span>
<span id="cb20-3"><a href="introducion-to-sql.html#cb20-3" tabindex="-1"></a><span class="kw">WHERE</span> T.salary <span class="op">&gt;</span> S.salary <span class="kw">AND</span></span>
<span id="cb20-4"><a href="introducion-to-sql.html#cb20-4" tabindex="-1"></a>  S.dept_name<span class="op">=</span><span class="st">'Comp. Sci.'</span>;</span>
<span id="cb20-5"><a href="introducion-to-sql.html#cb20-5" tabindex="-1"></a>  </span>
<span id="cb20-6"><a href="introducion-to-sql.html#cb20-6" tabindex="-1"></a><span class="co">-- We use DISTINCT because the cartesian product of relation and a copy of itself create's duplicates!</span></span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:Renaming Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">McKinnon</td>
</tr>
<tr class="even">
<td align="left">Mird</td>
</tr>
<tr class="odd">
<td align="left">Luo</td>
</tr>
<tr class="even">
<td align="left">Levine</td>
</tr>
<tr class="odd">
<td align="left">Shuming</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="patterns" class="section level2" number="3.10">
<h2>
<span class="header-section-number">3.10</span> Patterns<a class="anchor" aria-label="anchor" href="#patterns"><i class="fas fa-link"></i></a>
</h2>
<p>We can compare strings in a query that follow some pattern using wild cards (<code>%</code>, <code>_</code>). <code>%</code> means “any string” while <code>_</code> means any character.</p>
<p>For example:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb21-1"><a href="introducion-to-sql.html#cb21-1" tabindex="-1"></a><span class="co">-- Using Wild cards to find patterns in name attribute --</span></span>
<span id="cb21-2"><a href="introducion-to-sql.html#cb21-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb21-3"><a href="introducion-to-sql.html#cb21-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor</span>
<span id="cb21-4"><a href="introducion-to-sql.html#cb21-4" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">LIKE</span> <span class="st">'Mc%'</span>; <span class="co">-- Look for any string beginning wiht "Wu"</span></span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:Wildcard Example)1 records</caption>
<thead><tr class="header">
<th align="left">ID</th>
<th align="left">name</th>
<th align="left">dept_name</th>
<th align="right">salary</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">63395</td>
<td align="left">McKinnon</td>
<td align="left">Cybernetics</td>
<td align="right">94333.99</td>
</tr></tbody>
</table></div>
</div>
<p>Using <code>LIKE</code> in conjunction with a wild card. We return any tuple that is follows the pattern expressed with the wild card.</p>
</div>
<div id="null" class="section level2" number="3.11">
<h2>
<span class="header-section-number">3.11</span> Null<a class="anchor" aria-label="anchor" href="#null"><i class="fas fa-link"></i></a>
</h2>
<p>Its possible for a component in a tuple to not have a value. DBMS’ use the keyword <code>NULL</code> to indicate that there is a value does not exist for a component. Any arithmetic operation that deals with a component with <code>NULL</code> returns <code>UNKNOWN</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb22-1"><a href="introducion-to-sql.html#cb22-1" tabindex="-1"></a><span class="co">-- NULL Arithmetic --</span></span>
<span id="cb22-2"><a href="introducion-to-sql.html#cb22-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">NULL</span> <span class="op">+</span> <span class="dv">1</span> <span class="kw">AS</span> null_arithmetic;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:Arithmetic Null Example)1 records</caption>
<thead><tr class="header">
<th align="left">null_arithmetic</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">NA</td>
</tr></tbody>
</table></div>
</div>
<p>The predicate <code>IS NULL</code> or <code>IS NOT NULL</code> can check if a component is or is not <code>NULL</code>.</p>
<p>SQL contains 3 boolean values for comparators. These are (<code>TRUE</code>, <code>FALSE</code>, <code>UNKNOWN</code>). <code>UNKNOWN</code> is used to help handle <code>NULL</code> values. Therefore when using <code>AND</code>, <code>OR</code>, &amp; <code>NOT</code>, we must update the logic to handle <code>UNKOWN</code>.</p>
<p>The following is the logic for these operators:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">Logic</th>
<th align="center">Output</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><code>TRUE AND UNKNOWN</code></td>
<td align="center"><code>UNKNOWN</code></td>
</tr>
<tr class="even">
<td align="center"><code>FALSE AND UNKNOWN</code></td>
<td align="center"><code>FALSE</code></td>
</tr>
<tr class="odd">
<td align="center"><code>UNKNOWN AND UNKNOWN</code></td>
<td align="center"><code>UNKNOWN</code></td>
</tr>
<tr class="even">
<td align="center"><code>TRUE OR UNKNOWN</code></td>
<td align="center"><code>TRUE</code></td>
</tr>
<tr class="odd">
<td align="center"><code>FALSE OR UNKNOWN</code></td>
<td align="center"><code>UNKNOWN</code></td>
</tr>
<tr class="even">
<td align="center"><code>UNKNOWN OR UNKNOWN</code></td>
<td align="center"><code>UNKNOWN</code></td>
</tr>
</tbody>
</table></div>
<p>When using the <code>WHERE</code> clause, any boolean comparators that yields <code>UNKNOWN</code> returns <code>FALSE</code></p>
<p>When working with <code>WHERE</code> to subset tuples. Only tuples that yield <code>TRUE</code> are returned. Any tuples that yield <code>FALSE</code> OR <code>UNKNOWN</code> are not returned.</p>
</div>
<div id="multiple-relational-queries" class="section level2" number="3.12">
<h2>
<span class="header-section-number">3.12</span> Multiple Relational Queries<a class="anchor" aria-label="anchor" href="#multiple-relational-queries"><i class="fas fa-link"></i></a>
</h2>
<p>In practice, we typically source data from multiple relations. We can describe data from multiple relations by referencing the relations in the <code>FROM</code> clause. We distinguish attributes with the same name by <code>&lt;relation&gt;.&lt;attribute&gt;</code></p>
<p>For example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb23-1"><a href="introducion-to-sql.html#cb23-1" tabindex="-1"></a><span class="co">-- SELECTING BEER BASED ON DATA FROM Frequents and Likes --</span></span>
<span id="cb23-2"><a href="introducion-to-sql.html#cb23-2" tabindex="-1"></a><span class="kw">SELECT</span> beer                            <span class="co">-- Project beer attribute</span></span>
<span id="cb23-3"><a href="introducion-to-sql.html#cb23-3" tabindex="-1"></a><span class="kw">FROM</span> Likes, Frequents                  <span class="co">-- State we want data from Likes and Frequents (Cartesian Product)</span></span>
<span id="cb23-4"><a href="introducion-to-sql.html#cb23-4" tabindex="-1"></a><span class="kw">WHERE</span> bar <span class="op">=</span> ’Joe’’s Bar’ <span class="kw">AND</span>           <span class="co">-- Select based on bar = "Joes Bar" and the drinkers are equal between</span></span>
<span id="cb23-5"><a href="introducion-to-sql.html#cb23-5" tabindex="-1"></a>                                             <span class="co">-- relations</span></span>
<span id="cb23-6"><a href="introducion-to-sql.html#cb23-6" tabindex="-1"></a>  Frequents.drinker <span class="op">=</span> Likes.drinker;</span></code></pre></div>
<p>We have now successfully joined the relations <code>Likes</code> and <code>Frequents</code>.</p>
</div>
<div id="explicit-tuple-variables" class="section level2" number="3.13">
<h2>
<span class="header-section-number">3.13</span> Explicit Tuple-Variables<a class="anchor" aria-label="anchor" href="#explicit-tuple-variables"><i class="fas fa-link"></i></a>
</h2>
<p>We can join data from the a relation and a copy of itself. In this case, we must be explicit and rename the copy of the relation. This is known as a <strong>Self Join</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb24-1"><a href="introducion-to-sql.html#cb24-1" tabindex="-1"></a><span class="co">-- SELECTING WITH A COPY OF A RELATION AND ITS SELF --</span></span>
<span id="cb24-2"><a href="introducion-to-sql.html#cb24-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> T.<span class="kw">id</span> <span class="kw">AS</span> id2</span>
<span id="cb24-3"><a href="introducion-to-sql.html#cb24-3" tabindex="-1"></a>  ,T.dept_name <span class="kw">AS</span> dept1</span>
<span id="cb24-4"><a href="introducion-to-sql.html#cb24-4" tabindex="-1"></a>  ,S.<span class="kw">id</span> <span class="kw">AS</span> id2</span>
<span id="cb24-5"><a href="introducion-to-sql.html#cb24-5" tabindex="-1"></a>  ,S.dept_name <span class="kw">AS</span> dept2</span>
<span id="cb24-6"><a href="introducion-to-sql.html#cb24-6" tabindex="-1"></a><span class="kw">FROM</span> instructor <span class="kw">AS</span> T, instructor <span class="kw">AS</span> S    <span class="co">-- Remember that this is a cartesian product</span></span>
<span id="cb24-7"><a href="introducion-to-sql.html#cb24-7" tabindex="-1"></a><span class="kw">WHERE</span> T.dept_name <span class="op">&gt;</span> S.dept_name;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:Explict variable naming)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">id2</th>
<th align="left">dept1</th>
<th align="left">id2</th>
<th align="left">dept2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">15347</td>
<td align="left">Athletics</td>
<td align="left">57180</td>
<td align="left">Accounting</td>
</tr>
<tr class="even">
<td align="left">15347</td>
<td align="left">Athletics</td>
<td align="left">31955</td>
<td align="left">Accounting</td>
</tr>
<tr class="odd">
<td align="left">15347</td>
<td align="left">Athletics</td>
<td align="left">14365</td>
<td align="left">Accounting</td>
</tr>
<tr class="even">
<td align="left">15347</td>
<td align="left">Athletics</td>
<td align="left">79081</td>
<td align="left">Accounting</td>
</tr>
<tr class="odd">
<td align="left">15347</td>
<td align="left">Athletics</td>
<td align="left">43779</td>
<td align="left">Astronomy</td>
</tr>
</tbody>
</table></div>
</div>
<p>Here is another example:</p>
<p>Using <code>Course</code> find all pairs of courses offered by the same department. order based on the course id.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb25-1"><a href="introducion-to-sql.html#cb25-1" tabindex="-1"></a><span class="kw">SELECT</span> b1.course_id</span>
<span id="cb25-2"><a href="introducion-to-sql.html#cb25-2" tabindex="-1"></a>  ,b2.course_id</span>
<span id="cb25-3"><a href="introducion-to-sql.html#cb25-3" tabindex="-1"></a><span class="kw">FROM</span> course <span class="kw">AS</span> b1, course <span class="kw">AS</span> b2</span>
<span id="cb25-4"><a href="introducion-to-sql.html#cb25-4" tabindex="-1"></a><span class="kw">WHERE</span> b1.dept_name<span class="op">=</span>b2.dept_name <span class="kw">AND</span></span>
<span id="cb25-5"><a href="introducion-to-sql.html#cb25-5" tabindex="-1"></a>  b1.course_id <span class="op">&gt;</span> b2.course_id;  <span class="co">-- How does this order courses?  Won't this only order by b2.course_id for each </span></span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:self join example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">course_id</th>
<th align="left">course_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">787</td>
<td align="left">101</td>
</tr>
<tr class="even">
<td align="left">787</td>
<td align="left">123</td>
</tr>
<tr class="odd">
<td align="left">787</td>
<td align="left">236</td>
</tr>
<tr class="even">
<td align="left">787</td>
<td align="left">238</td>
</tr>
<tr class="odd">
<td align="left">787</td>
<td align="left">272</td>
</tr>
</tbody>
</table></div>
</div>
<!--- Continue with slide 50 --->
</div>
<div id="subqueries" class="section level2" number="3.14">
<h2>
<span class="header-section-number">3.14</span> Subqueries<a class="anchor" aria-label="anchor" href="#subqueries"><i class="fas fa-link"></i></a>
</h2>
<p>A subquery is a query that is nested in another query. To do create a sub query, you wrap a query around parentheses. <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Slide 50 of IntroSQLlatest.pdf&lt;/p&gt;"><sup>1</sup></a></p>
<p>For example:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb26-1"><a href="introducion-to-sql.html#cb26-1" tabindex="-1"></a><span class="co">-- Find the beer liked by at least one person who goes to Joe's Bar --</span></span>
<span id="cb26-2"><a href="introducion-to-sql.html#cb26-2" tabindex="-1"></a></span>
<span id="cb26-3"><a href="introducion-to-sql.html#cb26-3" tabindex="-1"></a><span class="kw">SELECT</span> beer</span>
<span id="cb26-4"><a href="introducion-to-sql.html#cb26-4" tabindex="-1"></a><span class="kw">FROM</span> Likes, (<span class="kw">SELECT</span> drink</span>
<span id="cb26-5"><a href="introducion-to-sql.html#cb26-5" tabindex="-1"></a>  <span class="kw">FROM</span> Frequents</span>
<span id="cb26-6"><a href="introducion-to-sql.html#cb26-6" tabindex="-1"></a>  <span class="kw">WHERE</span> bar<span class="op">=</span><span class="st">'Joe</span><span class="ch">''</span><span class="st">s Bar'</span>) <span class="kw">AS</span> JD</span>
<span id="cb26-7"><a href="introducion-to-sql.html#cb26-7" tabindex="-1"></a><span class="kw">WHERE</span> Likes.drinker <span class="op">=</span> JD.drinker</span>
<span id="cb26-8"><a href="introducion-to-sql.html#cb26-8" tabindex="-1"></a></span>
<span id="cb26-9"><a href="introducion-to-sql.html#cb26-9" tabindex="-1"></a><span class="co">-- Remember, referencing two relations creates a Cartesian Product from both relations</span></span></code></pre></div>
</div>
<div id="set-operations" class="section level2" number="3.15">
<h2>
<span class="header-section-number">3.15</span> Set Operations<a class="anchor" aria-label="anchor" href="#set-operations"><i class="fas fa-link"></i></a>
</h2>
<p>We can use set operations in SQL by using the <code>UNION</code>, <code>INTERSECT</code>, and <code>EXCEPT</code> (Not in) keywords.</p>
<div id="union" class="section level3" number="3.15.1">
<h3>
<span class="header-section-number">3.15.1</span> UNION<a class="anchor" aria-label="anchor" href="#union"><i class="fas fa-link"></i></a>
</h3>
<p>We can create a union of two relations by writing a query, using <code>UNION</code>, followed by another query.</p>
<p>For example:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb27-1"><a href="introducion-to-sql.html#cb27-1" tabindex="-1"></a><span class="co">-- Find courses that ran in Fall 2010 or in Spring 2011 --</span></span>
<span id="cb27-2"><a href="introducion-to-sql.html#cb27-2" tabindex="-1"></a><span class="kw">SELECT</span> course_id</span>
<span id="cb27-3"><a href="introducion-to-sql.html#cb27-3" tabindex="-1"></a><span class="kw">FROM</span> section</span>
<span id="cb27-4"><a href="introducion-to-sql.html#cb27-4" tabindex="-1"></a><span class="kw">WHERE</span> semester<span class="op">=</span><span class="st">'Fall'</span> <span class="kw">AND</span></span>
<span id="cb27-5"><a href="introducion-to-sql.html#cb27-5" tabindex="-1"></a>  <span class="dt">year</span><span class="op">=</span><span class="dv">2010</span></span>
<span id="cb27-6"><a href="introducion-to-sql.html#cb27-6" tabindex="-1"></a>  </span>
<span id="cb27-7"><a href="introducion-to-sql.html#cb27-7" tabindex="-1"></a><span class="kw">UNION</span></span>
<span id="cb27-8"><a href="introducion-to-sql.html#cb27-8" tabindex="-1"></a></span>
<span id="cb27-9"><a href="introducion-to-sql.html#cb27-9" tabindex="-1"></a><span class="kw">SELECT</span> course_id</span>
<span id="cb27-10"><a href="introducion-to-sql.html#cb27-10" tabindex="-1"></a><span class="kw">FROM</span> section</span>
<span id="cb27-11"><a href="introducion-to-sql.html#cb27-11" tabindex="-1"></a><span class="kw">WHERE</span> semester<span class="op">=</span><span class="st">'Spring'</span> <span class="kw">AND</span> </span>
<span id="cb27-12"><a href="introducion-to-sql.html#cb27-12" tabindex="-1"></a>  <span class="dt">year</span><span class="op">=</span><span class="dv">2011</span></span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:UNION Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">course_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">313</td>
</tr>
<tr class="even">
<td align="left">415</td>
</tr>
<tr class="odd">
<td align="left">476</td>
</tr>
<tr class="even">
<td align="left">843</td>
</tr>
<tr class="odd">
<td align="left">867</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="intersection" class="section level3" number="3.15.2">
<h3>
<span class="header-section-number">3.15.2</span> INTERSECTION<a class="anchor" aria-label="anchor" href="#intersection"><i class="fas fa-link"></i></a>
</h3>
<p>We can create an intersection of two relations by writing a query, using <code>INTERSECT</code>, followed by another query.</p>
<p>For example</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb28-1"><a href="introducion-to-sql.html#cb28-1" tabindex="-1"></a><span class="co">-- Find courses that ran in Fall 2005 and in Spring 2006 --</span></span>
<span id="cb28-2"><a href="introducion-to-sql.html#cb28-2" tabindex="-1"></a><span class="kw">SELECT</span> course_id</span>
<span id="cb28-3"><a href="introducion-to-sql.html#cb28-3" tabindex="-1"></a><span class="kw">FROM</span> section</span>
<span id="cb28-4"><a href="introducion-to-sql.html#cb28-4" tabindex="-1"></a><span class="kw">WHERE</span> semester<span class="op">=</span><span class="st">'Fall'</span> <span class="kw">AND</span></span>
<span id="cb28-5"><a href="introducion-to-sql.html#cb28-5" tabindex="-1"></a>  <span class="dt">year</span><span class="op">=</span><span class="dv">2005</span></span>
<span id="cb28-6"><a href="introducion-to-sql.html#cb28-6" tabindex="-1"></a>  </span>
<span id="cb28-7"><a href="introducion-to-sql.html#cb28-7" tabindex="-1"></a><span class="kw">INTERSECT</span></span>
<span id="cb28-8"><a href="introducion-to-sql.html#cb28-8" tabindex="-1"></a></span>
<span id="cb28-9"><a href="introducion-to-sql.html#cb28-9" tabindex="-1"></a><span class="kw">SELECT</span> course_id</span>
<span id="cb28-10"><a href="introducion-to-sql.html#cb28-10" tabindex="-1"></a><span class="kw">FROM</span> section</span>
<span id="cb28-11"><a href="introducion-to-sql.html#cb28-11" tabindex="-1"></a><span class="kw">WHERE</span> semester<span class="op">=</span><span class="st">'Fall'</span> <span class="kw">AND</span> </span>
<span id="cb28-12"><a href="introducion-to-sql.html#cb28-12" tabindex="-1"></a>  <span class="dt">year</span><span class="op">=</span><span class="dv">2006</span></span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:INTERSECTION Example)1 records</caption>
<thead><tr class="header">
<th align="left">course_id</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">362</td>
</tr></tbody>
</table></div>
</div>
</div>
<div id="except" class="section level3" number="3.15.3">
<h3>
<span class="header-section-number">3.15.3</span> EXCEPT<a class="anchor" aria-label="anchor" href="#except"><i class="fas fa-link"></i></a>
</h3>
<p>We can create a difference of two relations by writing a query, using <code>EXCEPT</code>, followed by another query.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb29-1"><a href="introducion-to-sql.html#cb29-1" tabindex="-1"></a><span class="co">-- Find courses that ran in Fall 2005 but not in Fall 2006 --</span></span>
<span id="cb29-2"><a href="introducion-to-sql.html#cb29-2" tabindex="-1"></a><span class="kw">SELECT</span> course_id</span>
<span id="cb29-3"><a href="introducion-to-sql.html#cb29-3" tabindex="-1"></a><span class="kw">FROM</span> section</span>
<span id="cb29-4"><a href="introducion-to-sql.html#cb29-4" tabindex="-1"></a><span class="kw">WHERE</span> semester<span class="op">=</span><span class="st">'Fall'</span> <span class="kw">AND</span></span>
<span id="cb29-5"><a href="introducion-to-sql.html#cb29-5" tabindex="-1"></a>  <span class="dt">year</span><span class="op">=</span><span class="dv">2005</span></span>
<span id="cb29-6"><a href="introducion-to-sql.html#cb29-6" tabindex="-1"></a>  </span>
<span id="cb29-7"><a href="introducion-to-sql.html#cb29-7" tabindex="-1"></a><span class="kw">EXCEPT</span></span>
<span id="cb29-8"><a href="introducion-to-sql.html#cb29-8" tabindex="-1"></a></span>
<span id="cb29-9"><a href="introducion-to-sql.html#cb29-9" tabindex="-1"></a><span class="kw">SELECT</span> course_id</span>
<span id="cb29-10"><a href="introducion-to-sql.html#cb29-10" tabindex="-1"></a><span class="kw">FROM</span> section</span>
<span id="cb29-11"><a href="introducion-to-sql.html#cb29-11" tabindex="-1"></a><span class="kw">WHERE</span> semester<span class="op">=</span><span class="st">'Fall'</span> <span class="kw">AND</span> </span>
<span id="cb29-12"><a href="introducion-to-sql.html#cb29-12" tabindex="-1"></a>  <span class="dt">year</span><span class="op">=</span><span class="dv">2006</span></span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:EXCEPT Example)3 records</caption>
<thead><tr class="header">
<th align="left">course_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">366</td>
</tr>
<tr class="even">
<td align="left">468</td>
</tr>
<tr class="odd">
<td align="left">482</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="single-tuple-subquery" class="section level2" number="3.16">
<h2>
<span class="header-section-number">3.16</span> Single-Tuple Subquery<a class="anchor" aria-label="anchor" href="#single-tuple-subquery"><i class="fas fa-link"></i></a>
</h2>
<p>When a subquery is guaranteed to return one tuple, then the subquery can be used as a value. The tuple will typically have only one component and run-time errors will arise if there is not exactly one tuple returned.</p>
<p>For example:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb30-1"><a href="introducion-to-sql.html#cb30-1" tabindex="-1"></a><span class="co">-- Find the bars that server Miller for the same price Joe charges for Bud --</span></span>
<span id="cb30-2"><a href="introducion-to-sql.html#cb30-2" tabindex="-1"></a><span class="kw">SELECT</span> bar</span>
<span id="cb30-3"><a href="introducion-to-sql.html#cb30-3" tabindex="-1"></a><span class="kw">FROM</span> Sells</span>
<span id="cb30-4"><a href="introducion-to-sql.html#cb30-4" tabindex="-1"></a><span class="kw">WHERE</span> beer <span class="op">=</span> <span class="st">'Miller'</span> <span class="kw">AND</span></span>
<span id="cb30-5"><a href="introducion-to-sql.html#cb30-5" tabindex="-1"></a>  price <span class="op">=</span> (</span>
<span id="cb30-6"><a href="introducion-to-sql.html#cb30-6" tabindex="-1"></a>  <span class="kw">SELECT</span> price.  <span class="co">-- This query returns one tuple with one component!</span></span>
<span id="cb30-7"><a href="introducion-to-sql.html#cb30-7" tabindex="-1"></a>  <span class="kw">FROM</span> Sells</span>
<span id="cb30-8"><a href="introducion-to-sql.html#cb30-8" tabindex="-1"></a>  <span class="kw">WHERE</span> bar <span class="op">=</span> <span class="st">'Joe</span><span class="ch">''</span><span class="st">s Bar'</span> <span class="kw">AND</span></span>
<span id="cb30-9"><a href="introducion-to-sql.html#cb30-9" tabindex="-1"></a>    beer <span class="op">=</span> <span class="st">'Bud'</span></span>
<span id="cb30-10"><a href="introducion-to-sql.html#cb30-10" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="between" class="section level2" number="3.17">
<h2>
<span class="header-section-number">3.17</span> Between<a class="anchor" aria-label="anchor" href="#between"><i class="fas fa-link"></i></a>
</h2>
<p><code>BETWEEN</code> allows a user to subset tuples based on if a tuple’s value falls in between an interval! To be more specific</p>
<p><code>BETWEEN</code> is defined as <span class="math inline">\(\text{Value} &gt;= \text{Low} \text{ AND} \text{ Value} &lt;= \text{High}\)</span> <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;FIND AN EXAMPLE&lt;/p&gt;"><sup>2</sup></a></p>
<p><code>NOT BETWEEN</code> is defined as <span class="math inline">\(\text{Value} &lt; \text{Low} \text{ AND} \text{ Value} &gt; \text{High}\)</span></p>
</div>
<div id="in" class="section level2" number="3.18">
<h2>
<span class="header-section-number">3.18</span> In<a class="anchor" aria-label="anchor" href="#in"><i class="fas fa-link"></i></a>
</h2>
<p><code>IN</code> is an keyword that returns a boolean to determine if a value is contained some collection of tuples.</p>
<p><tuple><code>IN</code> <subquery> is true if and only if the tuple is a member of a relation</subquery></tuple></p>
<p>For example:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb31-1"><a href="introducion-to-sql.html#cb31-1" tabindex="-1"></a><span class="co">-- Find name and manufacturer of each beer that Fred likes --</span></span>
<span id="cb31-2"><a href="introducion-to-sql.html#cb31-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb31-3"><a href="introducion-to-sql.html#cb31-3" tabindex="-1"></a><span class="kw">FROM</span> Beers</span>
<span id="cb31-4"><a href="introducion-to-sql.html#cb31-4" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">IN</span> ( <span class="co">-- This subquery makes a relation of beers that Fred Likes!</span></span>
<span id="cb31-5"><a href="introducion-to-sql.html#cb31-5" tabindex="-1"></a>  <span class="kw">SELECT</span> beer</span>
<span id="cb31-6"><a href="introducion-to-sql.html#cb31-6" tabindex="-1"></a>  <span class="kw">FROM</span> Likes</span>
<span id="cb31-7"><a href="introducion-to-sql.html#cb31-7" tabindex="-1"></a>  <span class="kw">WHERE</span> drinker<span class="op">=</span><span class="st">'FRED'</span></span>
<span id="cb31-8"><a href="introducion-to-sql.html#cb31-8" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="exists" class="section level2" number="3.19">
<h2>
<span class="header-section-number">3.19</span> Exists<a class="anchor" aria-label="anchor" href="#exists"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="any" class="section level2" number="3.20">
<h2>
<span class="header-section-number">3.20</span> Any<a class="anchor" aria-label="anchor" href="#any"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="all" class="section level2" number="3.21">
<h2>
<span class="header-section-number">3.21</span> All<a class="anchor" aria-label="anchor" href="#all"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="except-1" class="section level2" number="3.22">
<h2>
<span class="header-section-number">3.22</span> Except<a class="anchor" aria-label="anchor" href="#except-1"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="union-intersection-difference" class="section level2" number="3.23">
<h2>
<span class="header-section-number">3.23</span> Union, Intersection, Difference<a class="anchor" aria-label="anchor" href="#union-intersection-difference"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="recursive-queries" class="section level2" number="3.24">
<h2>
<span class="header-section-number">3.24</span> Recursive Queries<a class="anchor" aria-label="anchor" href="#recursive-queries"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="bag-semantics" class="section level2" number="3.25">
<h2>
<span class="header-section-number">3.25</span> Bag Semantics<a class="anchor" aria-label="anchor" href="#bag-semantics"><i class="fas fa-link"></i></a>
</h2>
<!--- 
ADD THE FOLLOWING AFTER ORGANZING NOTES
## Controlling Duplicate Elimination
### Data Types
The following are primitive data types that are supported by SQL    

#### Character Strings
They can be of fixed or variable length.  To type a fixed length character string, use `CHAR(n)` for some length $n$.  To create a variable length character string, use `VARCHAR(n)` for some length $n$.  If a component of a tuple with a domain of `CHAR(n)` is given and the length of the component is less than $n$, the component is padded with white space. 

#### Bit Strings
Bit strings can be of fixed or varying length. This data type is analogous to character strings, but their values are strings of bits rather than characters.

#### BOOLEANs
Booleans denote an attribute whose value is logical.  The possible values that a boolean can take are __TRUE, FALSE, UNKNOWN__.

#### INTs
Ints or (Integers) denote some integer value.  `SHORTINT` is also an int but is may have less bits.

#### Floating-Point Numbers
Floating points are denoted by `FLOAT` or `REAL`.  If you would like higher precision with floats, use `DOUBLE PRECISION`.  Like character strings, floats can be of fixed decimal length.  You can declare decimal length but calling `DECIMAL(n, d)` where $n$ is the total number of digits allowed for the float nad $d$ is the number of digits passed the decimal. 

#### Dates and Times
Dates and times are declared using `DATE` and `TIME` respectively. Dates and times are a special form of character strings.  Adding a string after the `DATE` declaration specifies the format of the date.  For example `DATE '1948-05-14'` creates a date value with the form "YYYY-MM-DD".  The same can be done with time.  For example `TIME '15:00:02.5'` specifies that you want to represent time with the format "HH:MM:SS" with the attachment of milliseconds. 

The follow is a simple example of a Relation Schema declaration


```sql
CREATE TABLE Movies(
  title CHAR(100) -- Character string with 100 characters
  ,year INT
  ,lengh INT
  ,genre CHAR(10)
  ,studioName CHAR(30)
  ,producerC# INT
);
```

### Modifying Relation Schemas
To delete or "drop" a table from a database, execute the following    


```sql
DROP TABLE -- SOME TABLE --;
```

When dropping at able, the table no longer exists in the database schema.  To modify and existing table, use the `ALTER` keyword   


```sql
---- Modifying a table to add a new attribute to its schema ----
ALTER TABLE -- SOME TABLE -- ADD -- SOME ATTRIBUTE -- CHAR(16); 

---- Modifying a table to remove an attribute from its schema ----
ALTER TABLE -- SOME TABLE -- DROP -- SOME ATTRIBUTE IN SCHEMA --; 
```

### Default Values
When adding a new attribute to a relation's schema, all tuples require some value for that attribute.  Database systems will default that value to `NULL`, but what if you want a specific value for it default to?  What if data is uploaded randomly and not all tuples have values for each component?   In this case we can use the `DEFAULT` keyword to add a specific value instead using `NULL`.


```sql
---- Creating attributes and adding a default value when no data is made available ----
gender CHAR(1) DEFAULT '?'
name VARCHAR(10) DEFAULT 'No Name :('
```

#### Declaring Keys
There are two ways to assign a set of attributes to be a key.  Keys are defined in the declaration of the database schema, i.e. the  `CREATE TABLE` statement.

Use `PRIMARY KEY` or `UNIQUE` to declare a set of attributes to be a key.  Remember, that keys must always be unique for each tuple.  The difference between `PRIMARY KEY` and `UNIQUE` is that components a tuple are allowed to have `NULL` as a value when using `UNIQUE`.  On the other hand, using `PRIMARY KEY` does not allow `NULL` to be in a key.


```sql
---- Assigning name as a primary key ---
CREATE TABLE MovieStar(
  name CHAR(30) PRIMARY KEY
  ,address VARCHAR(255)
  ,gender CHAR(1)
  ,birthdate DATE
);

---- You can assign keys after declaring all attributes as well! ----
CREATE TABLE MovieStar(
  name CHAR(30)
  ,address VARCHAR(255)
  ,gender CHAR(1)
  ,birthdate DATE
  PRIMARY KEY (name)
);
```

## Constraints

--->

</div>
</div>








  <div class="chapter-nav">
<div class="prev"><a href="relational-algebra.html"><span class="header-section-number">2</span> Relational Algebra</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#introducion-to-sql"><span class="header-section-number">3</span> Introducion to SQL</a></li>
<li>
<a class="nav-link" href="#partition-of-the-sql-language"><span class="header-section-number">3.1</span> Partition of the SQL language</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#why-sql"><span class="header-section-number">3.1.1</span> Why SQL?</a></li></ul>
</li>
<li><a class="nav-link" href="#relations-in-sql"><span class="header-section-number">3.2</span> Relations in SQL</a></li>
<li><a class="nav-link" href="#foreign-keys"><span class="header-section-number">3.3</span> Foreign Keys</a></li>
<li><a class="nav-link" href="#select-from-where-statements"><span class="header-section-number">3.4</span> SELECT, FROM, WHERE Statements</a></li>
<li>
<a class="nav-link" href="#relation-schema-modification"><span class="header-section-number">3.5</span> Relation Schema Modification</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#deleting-relations"><span class="header-section-number">3.5.1</span> Deleting Relations</a></li>
<li><a class="nav-link" href="#altering-tables"><span class="header-section-number">3.5.2</span> Altering Tables</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#select"><span class="header-section-number">3.6</span> SELECT</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#distinctall"><span class="header-section-number">3.6.1</span> DISTINCT/ALL</a></li>
<li><a class="nav-link" href="#select-and-literals"><span class="header-section-number">3.6.2</span> SELECT and Literals</a></li>
</ul>
</li>
<li><a class="nav-link" href="#where"><span class="header-section-number">3.7</span> WHERE</a></li>
<li><a class="nav-link" href="#from-clause-with-multiple-relations"><span class="header-section-number">3.8</span> FROM Clause with Multiple Relations</a></li>
<li><a class="nav-link" href="#rename"><span class="header-section-number">3.9</span> RENAME</a></li>
<li><a class="nav-link" href="#patterns"><span class="header-section-number">3.10</span> Patterns</a></li>
<li><a class="nav-link" href="#null"><span class="header-section-number">3.11</span> Null</a></li>
<li><a class="nav-link" href="#multiple-relational-queries"><span class="header-section-number">3.12</span> Multiple Relational Queries</a></li>
<li><a class="nav-link" href="#explicit-tuple-variables"><span class="header-section-number">3.13</span> Explicit Tuple-Variables</a></li>
<li><a class="nav-link" href="#subqueries"><span class="header-section-number">3.14</span> Subqueries</a></li>
<li>
<a class="nav-link" href="#set-operations"><span class="header-section-number">3.15</span> Set Operations</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#union"><span class="header-section-number">3.15.1</span> UNION</a></li>
<li><a class="nav-link" href="#intersection"><span class="header-section-number">3.15.2</span> INTERSECTION</a></li>
<li><a class="nav-link" href="#except"><span class="header-section-number">3.15.3</span> EXCEPT</a></li>
</ul>
</li>
<li><a class="nav-link" href="#single-tuple-subquery"><span class="header-section-number">3.16</span> Single-Tuple Subquery</a></li>
<li><a class="nav-link" href="#between"><span class="header-section-number">3.17</span> Between</a></li>
<li><a class="nav-link" href="#in"><span class="header-section-number">3.18</span> In</a></li>
<li><a class="nav-link" href="#exists"><span class="header-section-number">3.19</span> Exists</a></li>
<li><a class="nav-link" href="#any"><span class="header-section-number">3.20</span> Any</a></li>
<li><a class="nav-link" href="#all"><span class="header-section-number">3.21</span> All</a></li>
<li><a class="nav-link" href="#except-1"><span class="header-section-number">3.22</span> Except</a></li>
<li><a class="nav-link" href="#union-intersection-difference"><span class="header-section-number">3.23</span> Union, Intersection, Difference</a></li>
<li><a class="nav-link" href="#recursive-queries"><span class="header-section-number">3.24</span> Recursive Queries</a></li>
<li><a class="nav-link" href="#bag-semantics"><span class="header-section-number">3.25</span> Bag Semantics</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CSE 560 - Notes</strong>" was written by Jason Caballes. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
