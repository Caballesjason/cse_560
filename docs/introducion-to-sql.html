<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>3 Introducion to SQL | CSE 560 - Notes</title>
<meta name="author" content="Jason Caballes">
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="3 Introducion to SQL | CSE 560 - Notes">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="3 Introducion to SQL | CSE 560 - Notes">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<meta name="description" content="3.1 Partition of the SQL language The current standard for SQL is SQL-99. There are two aspects to the SQL language: 1. The Data Definition Language (DDL) to declare database schemas 2. The Data...">
<meta property="og:description" content="3.1 Partition of the SQL language The current standard for SQL is SQL-99. There are two aspects to the SQL language: 1. The Data Definition Language (DDL) to declare database schemas 2. The Data...">
<meta name="twitter:description" content="3.1 Partition of the SQL language The current standard for SQL is SQL-99. There are two aspects to the SQL language: 1. The Data Definition Language (DDL) to declare database schemas 2. The Data...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">CSE 560 - Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Jason’s CSE 560 Notes</a></li>
<li><a class="" href="relational-databases.html"><span class="header-section-number">1</span> Relational Databases</a></li>
<li><a class="" href="relational-algebra.html"><span class="header-section-number">2</span> Relational Algebra</a></li>
<li><a class="active" href="introducion-to-sql.html"><span class="header-section-number">3</span> Introducion to SQL</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="introducion-to-sql" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Introducion to SQL<a class="anchor" aria-label="anchor" href="#introducion-to-sql"><i class="fas fa-link"></i></a>
</h1>
<div id="partition-of-the-sql-language" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Partition of the SQL language<a class="anchor" aria-label="anchor" href="#partition-of-the-sql-language"><i class="fas fa-link"></i></a>
</h2>
<p>The current standard for SQL is <strong>SQL-99</strong>. There are two aspects to the SQL language:<br>
1. The <strong>Data Definition Language (DDL)</strong> to declare database schemas<br>
2. The <strong>Data Manipulation Language (DML)</strong> sub-language for querying/modifying databases</p>
<div id="why-sql" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> Why SQL?<a class="anchor" aria-label="anchor" href="#why-sql"><i class="fas fa-link"></i></a>
</h3>
<p>SQL is a high level language. When using SQL, we simply ask “what to do” rather than “how to do it.”. This allows to disregard complex data manipulation and DBMS utilize <em>query optimizations</em> to optimize queries.</p>
</div>
</div>
<div id="relations-in-sql" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Relations in SQL<a class="anchor" aria-label="anchor" href="#relations-in-sql"><i class="fas fa-link"></i></a>
</h2>
<p>SQL makes a distinction between three kinds of relations:<br>
1. <strong>Stored relations</strong>, which are called <strong>tables</strong><br>
2. <strong>Views</strong>, which are relations designed by some computation. These relations are not stored in memory, but constructed when needed<br>
3. <strong>Temporary Tables</strong> which are constructed by the SQL language processor when executing queries and data modifications. These relations are not stored in memory and discarded when no longer used.</p>
<p>Before we dive into operations in SQL, we will go over the order of execution for any query. The order of execution for any query is as follows</p>
<ol style="list-style-type: decimal">
<li><code>FROM</code></li>
<li><code>JOIN</code></li>
<li><code>WHERE</code></li>
<li><code>GROUP BY</code></li>
<li><code>HAVING</code></li>
<li><code>SELECT</code></li>
<li><code>ORDER BY</code></li>
<li><code>LIMIT</code></li>
</ol>
<p>This is also the meaning of a <em>single relation query</em></p>
<p>To declare a schema for a stored relation, do the following</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb3-1"><a href="introducion-to-sql.html#cb3-1" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> MovieStar( <span class="co">-- CREATE TABLE Initializes the create of the MovieStar schema</span></span>
<span id="cb3-2"><a href="introducion-to-sql.html#cb3-2" tabindex="-1"></a>  name <span class="dt">CHAR</span>(<span class="dv">30</span>)         <span class="co">-- For every attribute, declare its data type</span></span>
<span id="cb3-3"><a href="introducion-to-sql.html#cb3-3" tabindex="-1"></a>  ,address <span class="dt">CHAR</span>(<span class="dv">30</span>)</span>
<span id="cb3-4"><a href="introducion-to-sql.html#cb3-4" tabindex="-1"></a>  ,gender <span class="dt">char</span>(<span class="dv">1</span>)</span>
<span id="cb3-5"><a href="introducion-to-sql.html#cb3-5" tabindex="-1"></a>  ,birthdate <span class="dt">date</span></span>
<span id="cb3-6"><a href="introducion-to-sql.html#cb3-6" tabindex="-1"></a><span class="kw">PRIMARY</span> <span class="kw">KEY</span> (name)  <span class="co">-- Assign the name attribute as the primary key for the schema</span></span>
<span id="cb3-7"><a href="introducion-to-sql.html#cb3-7" tabindex="-1"></a>);</span></code></pre></div>
</div>
<div id="foreign-keys" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Foreign Keys<a class="anchor" aria-label="anchor" href="#foreign-keys"><i class="fas fa-link"></i></a>
</h2>
<p>A foreign key is designed to create a relationship between two or more relations utilizing attributes that are similar to each other. We say “similar”because these attributes can have different names for each relation. Foreign keys reference primary keys or “unique” attributes from other relations.</p>
<p>The table that contains a foreign key is referencing an attribute from another table. The relations with the foreign key is the <em>referencing table</em> while the relation that the referencing relation is referring to is known as the <em>referenced table</em>. There is no constraint to how many foreign keys a table may have, as long as they define a relationship to another relation.</p>
<p>There are two ways to declare a column to be a foreign key. Both use the keyword <code>REFERENCE</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb4-1"><a href="introducion-to-sql.html#cb4-1" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> Student(</span>
<span id="cb4-2"><a href="introducion-to-sql.html#cb4-2" tabindex="-1"></a>  <span class="kw">id</span> <span class="dt">VARCHAR</span>(<span class="dv">5</span>)</span>
<span id="cb4-3"><a href="introducion-to-sql.html#cb4-3" tabindex="-1"></a>  ,name <span class="dt">VARCHAR</span>(<span class="dv">20</span>) <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb4-4"><a href="introducion-to-sql.html#cb4-4" tabindex="-1"></a>  ,dept_name <span class="dt">VARCHAR</span>(<span class="dv">20</span>)</span>
<span id="cb4-5"><a href="introducion-to-sql.html#cb4-5" tabindex="-1"></a>  ,tot_cred <span class="dt">NUMERIC</span>(<span class="dv">3</span>, <span class="dv">0</span>) <span class="co">-- 3 indicates the total # of digits allowed for the float while 0 indicates the number of digits allowed after the decimal point</span></span>
<span id="cb4-6"><a href="introducion-to-sql.html#cb4-6" tabindex="-1"></a>  ,<span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)</span>
<span id="cb4-7"><a href="introducion-to-sql.html#cb4-7" tabindex="-1"></a>  ,<span class="kw">FOREIGN</span> <span class="kw">KEY</span> (dept_name) <span class="kw">REFERENCES</span> department</span>
<span id="cb4-8"><a href="introducion-to-sql.html#cb4-8" tabindex="-1"></a>);</span>
<span id="cb4-9"><a href="introducion-to-sql.html#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="introducion-to-sql.html#cb4-10" tabindex="-1"></a><span class="co">-- This needs to be reviewed</span></span></code></pre></div>
</div>
<div id="select-from-where-statements" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> SELECT, FROM, WHERE Statements<a class="anchor" aria-label="anchor" href="#select-from-where-statements"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<code>SELECT</code>: Chooses a subset of tuples</li>
<li>
<code>FROM</code>: Chooses which relation to pull data from</li>
<li>
<code>WHERE</code>: Choose tuples based on conditions</li>
</ul>
</div>
<div id="relation-schema-modification" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> Relation Schema Modification<a class="anchor" aria-label="anchor" href="#relation-schema-modification"><i class="fas fa-link"></i></a>
</h2>
<div id="deleting-relations" class="section level3" number="3.5.1">
<h3>
<span class="header-section-number">3.5.1</span> Deleting Relations<a class="anchor" aria-label="anchor" href="#deleting-relations"><i class="fas fa-link"></i></a>
</h3>
<p>This is how we can delete relations</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="introducion-to-sql.html#cb5-1" tabindex="-1"></a><span class="kw">DELETE</span> <span class="co">-- Some Table</span></span>
<span id="cb5-2"><a href="introducion-to-sql.html#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="introducion-to-sql.html#cb5-3" tabindex="-1"></a><span class="co">-- We can also do this</span></span>
<span id="cb5-4"><a href="introducion-to-sql.html#cb5-4" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> <span class="co">-- Some Table</span></span></code></pre></div>
</div>
<div id="altering-tables" class="section level3" number="3.5.2">
<h3>
<span class="header-section-number">3.5.2</span> Altering Tables<a class="anchor" aria-label="anchor" href="#altering-tables"><i class="fas fa-link"></i></a>
</h3>
<p>This is how we alter tables</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="introducion-to-sql.html#cb6-1" tabindex="-1"></a><span class="co">-- Adding a attribute "surname" to Instructor1 --</span></span>
<span id="cb6-2"><a href="introducion-to-sql.html#cb6-2" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instructor1 <span class="kw">ADD</span> surname <span class="dt">CHAR</span>(<span class="dv">100</span>);</span>
<span id="cb6-3"><a href="introducion-to-sql.html#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="introducion-to-sql.html#cb6-4" tabindex="-1"></a><span class="co">-- Dropping surname from Instructor1 --</span></span>
<span id="cb6-5"><a href="introducion-to-sql.html#cb6-5" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instructor1 <span class="kw">DROP</span> surname;</span>
<span id="cb6-6"><a href="introducion-to-sql.html#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="introducion-to-sql.html#cb6-7" tabindex="-1"></a><span class="co">-- Renaming department attribute to dept from Instructor</span></span>
<span id="cb6-8"><a href="introducion-to-sql.html#cb6-8" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instuctor <span class="kw">RENAME</span> <span class="kw">COLUMN</span> Department <span class="kw">TO</span> dept;</span>
<span id="cb6-9"><a href="introducion-to-sql.html#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="introducion-to-sql.html#cb6-10" tabindex="-1"></a><span class="co">-- Renaming relation Instructor to "Teacher"</span></span>
<span id="cb6-11"><a href="introducion-to-sql.html#cb6-11" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> Instuctor <span class="kw">RENAME</span> <span class="kw">TO</span> Teacher;</span></code></pre></div>
<p><br></p>
</div>
</div>
<div id="select" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> SELECT<a class="anchor" aria-label="anchor" href="#select"><i class="fas fa-link"></i></a>
</h2>
<p><code>SELECT</code> chooses the attributes that you want in your query. It corresponds to the projection operator <span class="math inline">\(\pi_{C}{(R)}\)</span>. In SQL, names of relations and attributes are not case sensitive. In practice, any keywords should be capitalized.</p>
<p>For example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="introducion-to-sql.html#cb7-1" tabindex="-1"></a><span class="co">-- Using the SELECT clause to grab the name attribute! --</span></span>
<span id="cb7-2"><a href="introducion-to-sql.html#cb7-2" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb7-3"><a href="introducion-to-sql.html#cb7-3" tabindex="-1"></a><span class="kw">FROM</span> instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:SELECT Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">McKinnon</td>
</tr>
<tr class="even">
<td align="left">Pingr</td>
</tr>
<tr class="odd">
<td align="left">Mird</td>
</tr>
<tr class="even">
<td align="left">Luo</td>
</tr>
<tr class="odd">
<td align="left">Murata</td>
</tr>
</tbody>
</table></div>
</div>
<p>A short handed way to project all attributes from a relation is by using an asterisk <code>*</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="introducion-to-sql.html#cb8-1" tabindex="-1"></a><span class="co">-- Return all attributes for all tuples with manf=Anheuser-Busch</span></span>
<span id="cb8-2"><a href="introducion-to-sql.html#cb8-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb8-3"><a href="introducion-to-sql.html#cb8-3" tabindex="-1"></a><span class="kw">FROM</span> Beers</span>
<span id="cb8-4"><a href="introducion-to-sql.html#cb8-4" tabindex="-1"></a><span class="kw">WHERE</span> manf<span class="op">=</span><span class="st">'Anheuser-Busch'</span>;</span></code></pre></div>
<p>SQL is an interpreted language (like python). Therefore code gets executed line by line! Likewise each tuple in a relation gets evaluated one at a time to see if it should be returned in the output relation.</p>
<p>For example, suppose we have the following query:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="introducion-to-sql.html#cb9-1" tabindex="-1"></a><span class="co">-- Grabbing the 'name' attribute from Beers --</span></span>
<span id="cb9-2"><a href="introducion-to-sql.html#cb9-2" tabindex="-1"></a><span class="kw">SELECT</span> name</span>
<span id="cb9-3"><a href="introducion-to-sql.html#cb9-3" tabindex="-1"></a><span class="kw">FROM</span> Beers</span>
<span id="cb9-4"><a href="introducion-to-sql.html#cb9-4" tabindex="-1"></a><span class="kw">WHERE</span> manf<span class="op">=</span><span class="st">'Anheuser-Busch'</span>;</span></code></pre></div>
<p>For every tuple, the name component is being evaluated. If the component has the value “Anheuser-Busch”, then tuple is returned in the new relation!</p>
<div class="float">
<img src="images/03-operationSemantics.png" style="width:100.0%" alt="Operation Semantics"><div class="figcaption">Operation Semantics</div>
</div>
<p>We can also add new attributes using the attributes from the relation we are retrieving data from.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="introducion-to-sql.html#cb10-1" tabindex="-1"></a><span class="kw">SELECT</span> bar,</span>
<span id="cb10-2"><a href="introducion-to-sql.html#cb10-2" tabindex="-1"></a>  ,beer</span>
<span id="cb10-3"><a href="introducion-to-sql.html#cb10-3" tabindex="-1"></a>  ,price<span class="op">*</span><span class="dv">114</span> <span class="kw">AS</span> PriceInYen</span>
<span id="cb10-4"><a href="introducion-to-sql.html#cb10-4" tabindex="-1"></a><span class="kw">FROM</span> Sells;</span></code></pre></div>
<div id="distinctall" class="section level3" number="3.6.1">
<h3>
<span class="header-section-number">3.6.1</span> DISTINCT/ALL<a class="anchor" aria-label="anchor" href="#distinctall"><i class="fas fa-link"></i></a>
</h3>
<p>SQL allows for duplicate tuples, therefore, to return strictly unique tuples, you can use the <code>DISTINCT</code> clause.</p>
<p>For example:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="introducion-to-sql.html#cb11-1" tabindex="-1"></a><span class="co">-- Grabbing the unique department names from Instructor --</span></span>
<span id="cb11-2"><a href="introducion-to-sql.html#cb11-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> dept_name</span>
<span id="cb11-3"><a href="introducion-to-sql.html#cb11-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:DISTINCT Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">dept_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Cybernetics</td>
</tr>
<tr class="even">
<td align="left">Statistics</td>
</tr>
<tr class="odd">
<td align="left">Marketing</td>
</tr>
<tr class="even">
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">Athletics</td>
</tr>
</tbody>
</table></div>
</div>
<p>In contrast, the SQL keyword <code>ALL</code> allows you to explicitly state that duplicates should not be removed.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="introducion-to-sql.html#cb12-1" tabindex="-1"></a><span class="co">-- Grabbing all instances of dept_name attribute from Instructor --</span></span>
<span id="cb12-2"><a href="introducion-to-sql.html#cb12-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">ALL</span> dept_name</span>
<span id="cb12-3"><a href="introducion-to-sql.html#cb12-3" tabindex="-1"></a><span class="kw">FROM</span> Instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:ALL Example)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">dept_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Cybernetics</td>
</tr>
<tr class="even">
<td align="left">Statistics</td>
</tr>
<tr class="odd">
<td align="left">Marketing</td>
</tr>
<tr class="even">
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="left">Athletics</td>
</tr>
</tbody>
</table></div>
</div>
<p>The rest of the examples in this section will use the following relations</p>
<p><span class="math display">\[
Beers(\underline{name}, manf) \\
Bars (\underline{name}, addr, license) \\
Drinkers(\underline{name}, addr, phone) \\
Likes(\underline{drinker}, {beer}) \\
Sells(\underline{bar}, {beer}, price) \\
Frequents(\underline{drinker}, {bar})
\\~\\
\text{Note: underlined attributes indicate keys}
\]</span>
<!--- Must review this example --->
Here is another example using <code>All</code>.</p>
<p>Using <code>Frequents</code> and <code>Likes</code>, list all drinks who go to a higher number of different bars than they like different beers and does so as many times as the difference of those counts.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="introducion-to-sql.html#cb13-1" tabindex="-1"></a><span class="kw">SELECT</span> drinker</span>
<span id="cb13-2"><a href="introducion-to-sql.html#cb13-2" tabindex="-1"></a><span class="kw">FROM</span> Frequents</span>
<span id="cb13-3"><a href="introducion-to-sql.html#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="introducion-to-sql.html#cb13-4" tabindex="-1"></a><span class="kw">EXCEPT</span> <span class="kw">ALL</span></span>
<span id="cb13-5"><a href="introducion-to-sql.html#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="introducion-to-sql.html#cb13-6" tabindex="-1"></a><span class="kw">SELECT</span> drinker</span>
<span id="cb13-7"><a href="introducion-to-sql.html#cb13-7" tabindex="-1"></a><span class="kw">FROM</span> Likes;</span></code></pre></div>
<p>In this query, <code>EXCEPT</code> returns distinct rows from the top query that are not in the bottom query.</p>
<p>Here is another example using <code>DISTINCT</code>.
From <code>Sells</code>, find the different prices charged for beers</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="introducion-to-sql.html#cb14-1" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> price</span>
<span id="cb14-2"><a href="introducion-to-sql.html#cb14-2" tabindex="-1"></a><span class="kw">FROM</span> Sells;</span></code></pre></div>
<p>If distinct was not used, then your output relation would see duplicates of prices!</p>
</div>
<div id="select-and-literals" class="section level3" number="3.6.2">
<h3>
<span class="header-section-number">3.6.2</span> SELECT and Literals<a class="anchor" aria-label="anchor" href="#select-and-literals"><i class="fas fa-link"></i></a>
</h3>
<p>You can assign relations to contain only literals (any primative data type).</p>
<p>For example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb15-1"><a href="introducion-to-sql.html#cb15-1" tabindex="-1"></a><span class="co">-- Selecting a literal --</span></span>
<span id="cb15-2"><a href="introducion-to-sql.html#cb15-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="st">'437'</span> <span class="kw">AS</span> <span class="st">'Literal'</span>;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:SELECT Literal)1 records</caption>
<thead><tr class="header">
<th align="left">Literal</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">437</td>
</tr></tbody>
</table></div>
</div>
<p>Here we have returned a <span class="math inline">\(1 \times 1\)</span> relation with an attribute name <code>Literal</code> with a value of “437”.</p>
<p>If we add <code>FROM</code>, to the query, we will have an <span class="math inline">\(n\times{1}\)</span> relation for <span class="math inline">\(n\)</span> tuples in the relation we are referencing in <code>FROM</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb16-1"><a href="introducion-to-sql.html#cb16-1" tabindex="-1"></a><span class="co">-- Selecting a literal with FROM --</span></span>
<span id="cb16-2"><a href="introducion-to-sql.html#cb16-2" tabindex="-1"></a><span class="kw">SELECT</span> <span class="st">'437'</span> <span class="kw">AS</span> <span class="st">'Literal'</span></span>
<span id="cb16-3"><a href="introducion-to-sql.html#cb16-3" tabindex="-1"></a><span class="kw">FROM</span> instructor;</span></code></pre></div>
<div class="knitsql-table">
<div class="inline-table"><table class="table table-sm">
<caption>(#tab:SELECT Literal Example 2)Displaying records 1 - 5</caption>
<thead><tr class="header">
<th align="left">Literal</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">437</td>
</tr>
<tr class="even">
<td align="left">437</td>
</tr>
<tr class="odd">
<td align="left">437</td>
</tr>
<tr class="even">
<td align="left">437</td>
</tr>
<tr class="odd">
<td align="left">437</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="where" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> WHERE<a class="anchor" aria-label="anchor" href="#where"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="from" class="section level2" number="3.8">
<h2>
<span class="header-section-number">3.8</span> FROM<a class="anchor" aria-label="anchor" href="#from"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="rename" class="section level2" number="3.9">
<h2>
<span class="header-section-number">3.9</span> RENAME<a class="anchor" aria-label="anchor" href="#rename"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="patterns" class="section level2" number="3.10">
<h2>
<span class="header-section-number">3.10</span> Patterns<a class="anchor" aria-label="anchor" href="#patterns"><i class="fas fa-link"></i></a>
</h2>
<div id="like" class="section level3" number="3.10.1">
<h3>
<span class="header-section-number">3.10.1</span> Like<a class="anchor" aria-label="anchor" href="#like"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="null" class="section level2" number="3.11">
<h2>
<span class="header-section-number">3.11</span> Null<a class="anchor" aria-label="anchor" href="#null"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="multiple-relational-queries" class="section level2" number="3.12">
<h2>
<span class="header-section-number">3.12</span> Multiple Relational Queries<a class="anchor" aria-label="anchor" href="#multiple-relational-queries"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="joining-two-relations" class="section level2" number="3.13">
<h2>
<span class="header-section-number">3.13</span> Joining Two Relations<a class="anchor" aria-label="anchor" href="#joining-two-relations"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="explicit-tuple-variables" class="section level2" number="3.14">
<h2>
<span class="header-section-number">3.14</span> Explicit Tuple-Variables<a class="anchor" aria-label="anchor" href="#explicit-tuple-variables"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="self-joins-1" class="section level2" number="3.15">
<h2>
<span class="header-section-number">3.15</span> Self-Joins<a class="anchor" aria-label="anchor" href="#self-joins-1"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="subqueries" class="section level2" number="3.16">
<h2>
<span class="header-section-number">3.16</span> Subqueries<a class="anchor" aria-label="anchor" href="#subqueries"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="set-operations" class="section level2" number="3.17">
<h2>
<span class="header-section-number">3.17</span> Set Operations<a class="anchor" aria-label="anchor" href="#set-operations"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="single-tuple-subquery" class="section level2" number="3.18">
<h2>
<span class="header-section-number">3.18</span> Single-Tuple Subquery<a class="anchor" aria-label="anchor" href="#single-tuple-subquery"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="query-subquery" class="section level2" number="3.19">
<h2>
<span class="header-section-number">3.19</span> Query + Subquery<a class="anchor" aria-label="anchor" href="#query-subquery"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="between" class="section level2" number="3.20">
<h2>
<span class="header-section-number">3.20</span> Between<a class="anchor" aria-label="anchor" href="#between"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="in" class="section level2" number="3.21">
<h2>
<span class="header-section-number">3.21</span> In<a class="anchor" aria-label="anchor" href="#in"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="exists" class="section level2" number="3.22">
<h2>
<span class="header-section-number">3.22</span> Exists<a class="anchor" aria-label="anchor" href="#exists"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="any" class="section level2" number="3.23">
<h2>
<span class="header-section-number">3.23</span> Any<a class="anchor" aria-label="anchor" href="#any"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="except" class="section level2" number="3.24">
<h2>
<span class="header-section-number">3.24</span> Except<a class="anchor" aria-label="anchor" href="#except"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="union-intersection-difference" class="section level2" number="3.25">
<h2>
<span class="header-section-number">3.25</span> Union, Intersection, Difference<a class="anchor" aria-label="anchor" href="#union-intersection-difference"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="recursive-queries" class="section level2" number="3.26">
<h2>
<span class="header-section-number">3.26</span> Recursive Queries<a class="anchor" aria-label="anchor" href="#recursive-queries"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="bag-semantics" class="section level2" number="3.27">
<h2>
<span class="header-section-number">3.27</span> Bag Semantics<a class="anchor" aria-label="anchor" href="#bag-semantics"><i class="fas fa-link"></i></a>
</h2>
<!--- 
ADD THE FOLLOWING AFTER ORGANZING NOTES
## Controlling Duplicate Elimination
### Data Types
The following are primitive data types that are supported by SQL    

#### Character Strings
They can be of fixed or variable length.  To type a fixed length character string, use `CHAR(n)` for some length $n$.  To create a variable length character string, use `VARCHAR(n)` for some length $n$.  If a component of a tuple with a domain of `CHAR(n)` is given and the length of the component is less than $n$, the component is padded with white space. 

#### Bit Strings
Bit strings can be of fixed or varying length. This data type is analogous to character strings, but their values are strings of bits rather than characters.

#### BOOLEANs
Booleans denote an attribute whose value is logical.  The possible values that a boolean can take are __TRUE, FALSE, UNKNOWN__.

#### INTs
Ints or (Integers) denote some integer value.  `SHORTINT` is also an int but is may have less bits.

#### Floating-Point Numbers
Floating points are denoted by `FLOAT` or `REAL`.  If you would like higher precision with floats, use `DOUBLE PRECISION`.  Like character strings, floats can be of fixed decimal length.  You can declare decimal length but calling `DECIMAL(n, d)` where $n$ is the total number of digits allowed for the float nad $d$ is the number of digits passed the decimal. 

#### Dates and Times
Dates and times are declared using `DATE` and `TIME` respectively. Dates and times are a special form of character strings.  Adding a string after the `DATE` declaration specifies the format of the date.  For example `DATE '1948-05-14'` creates a date value with the form "YYYY-MM-DD".  The same can be done with time.  For example `TIME '15:00:02.5'` specifies that you want to represent time with the format "HH:MM:SS" with the attachment of milliseconds. 

The follow is a simple example of a Relation Schema declaration


```sql
CREATE TABLE Movies(
  title CHAR(100) -- Character string with 100 characters
  ,year INT
  ,lengh INT
  ,genre CHAR(10)
  ,studioName CHAR(30)
  ,producerC# INT
);
```

### Modifying Relation Schemas
To delete or "drop" a table from a database, execute the following    


```sql
DROP TABLE -- SOME TABLE --;
```

When dropping at able, the table no longer exists in the database schema.  To modify and existing table, use the `ALTER` keyword   


```sql
---- Modifying a table to add a new attribute to its schema ----
ALTER TABLE -- SOME TABLE -- ADD -- SOME ATTRIBUTE -- CHAR(16); 

---- Modifying a table to remove an attribute from its schema ----
ALTER TABLE -- SOME TABLE -- DROP -- SOME ATTRIBUTE IN SCHEMA --; 
```

### Default Values
When adding a new attribute to a relation's schema, all tuples require some value for that attribute.  Database systems will default that value to `NULL`, but what if you want a specific value for it default to?  What if data is uploaded randomly and not all tuples have values for each component?   In this case we can use the `DEFAULT` keyword to add a specific value instead using `NULL`.


```sql
---- Creating attributes and adding a default value when no data is made available ----
gender CHAR(1) DEFAULT '?'
name VARCHAR(10) DEFAULT 'No Name :('
```

#### Declaring Keys
There are two ways to assign a set of attributes to be a key.  Keys are defined in the declaration of the database schema, i.e. the  `CREATE TABLE` statement.

Use `PRIMARY KEY` or `UNIQUE` to declare a set of attributes to be a key.  Remember, that keys must always be unique for each tuple.  The difference between `PRIMARY KEY` and `UNIQUE` is that components a tuple are allowed to have `NULL` as a value when using `UNIQUE`.  On the other hand, using `PRIMARY KEY` does not allow `NULL` to be in a key.


```sql
---- Assigning name as a primary key ---
CREATE TABLE MovieStar(
  name CHAR(30) PRIMARY KEY
  ,address VARCHAR(255)
  ,gender CHAR(1)
  ,birthdate DATE
);

---- You can assign keys after declaring all attributes as well! ----
CREATE TABLE MovieStar(
  name CHAR(30)
  ,address VARCHAR(255)
  ,gender CHAR(1)
  ,birthdate DATE
  PRIMARY KEY (name)
);
```

## Constraints

--->

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="relational-algebra.html"><span class="header-section-number">2</span> Relational Algebra</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#introducion-to-sql"><span class="header-section-number">3</span> Introducion to SQL</a></li>
<li>
<a class="nav-link" href="#partition-of-the-sql-language"><span class="header-section-number">3.1</span> Partition of the SQL language</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#why-sql"><span class="header-section-number">3.1.1</span> Why SQL?</a></li></ul>
</li>
<li><a class="nav-link" href="#relations-in-sql"><span class="header-section-number">3.2</span> Relations in SQL</a></li>
<li><a class="nav-link" href="#foreign-keys"><span class="header-section-number">3.3</span> Foreign Keys</a></li>
<li><a class="nav-link" href="#select-from-where-statements"><span class="header-section-number">3.4</span> SELECT, FROM, WHERE Statements</a></li>
<li>
<a class="nav-link" href="#relation-schema-modification"><span class="header-section-number">3.5</span> Relation Schema Modification</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#deleting-relations"><span class="header-section-number">3.5.1</span> Deleting Relations</a></li>
<li><a class="nav-link" href="#altering-tables"><span class="header-section-number">3.5.2</span> Altering Tables</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#select"><span class="header-section-number">3.6</span> SELECT</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#distinctall"><span class="header-section-number">3.6.1</span> DISTINCT/ALL</a></li>
<li><a class="nav-link" href="#select-and-literals"><span class="header-section-number">3.6.2</span> SELECT and Literals</a></li>
</ul>
</li>
<li><a class="nav-link" href="#where"><span class="header-section-number">3.7</span> WHERE</a></li>
<li><a class="nav-link" href="#from"><span class="header-section-number">3.8</span> FROM</a></li>
<li><a class="nav-link" href="#rename"><span class="header-section-number">3.9</span> RENAME</a></li>
<li>
<a class="nav-link" href="#patterns"><span class="header-section-number">3.10</span> Patterns</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#like"><span class="header-section-number">3.10.1</span> Like</a></li></ul>
</li>
<li><a class="nav-link" href="#null"><span class="header-section-number">3.11</span> Null</a></li>
<li><a class="nav-link" href="#multiple-relational-queries"><span class="header-section-number">3.12</span> Multiple Relational Queries</a></li>
<li><a class="nav-link" href="#joining-two-relations"><span class="header-section-number">3.13</span> Joining Two Relations</a></li>
<li><a class="nav-link" href="#explicit-tuple-variables"><span class="header-section-number">3.14</span> Explicit Tuple-Variables</a></li>
<li><a class="nav-link" href="#self-joins-1"><span class="header-section-number">3.15</span> Self-Joins</a></li>
<li><a class="nav-link" href="#subqueries"><span class="header-section-number">3.16</span> Subqueries</a></li>
<li><a class="nav-link" href="#set-operations"><span class="header-section-number">3.17</span> Set Operations</a></li>
<li><a class="nav-link" href="#single-tuple-subquery"><span class="header-section-number">3.18</span> Single-Tuple Subquery</a></li>
<li><a class="nav-link" href="#query-subquery"><span class="header-section-number">3.19</span> Query + Subquery</a></li>
<li><a class="nav-link" href="#between"><span class="header-section-number">3.20</span> Between</a></li>
<li><a class="nav-link" href="#in"><span class="header-section-number">3.21</span> In</a></li>
<li><a class="nav-link" href="#exists"><span class="header-section-number">3.22</span> Exists</a></li>
<li><a class="nav-link" href="#any"><span class="header-section-number">3.23</span> Any</a></li>
<li><a class="nav-link" href="#except"><span class="header-section-number">3.24</span> Except</a></li>
<li><a class="nav-link" href="#union-intersection-difference"><span class="header-section-number">3.25</span> Union, Intersection, Difference</a></li>
<li><a class="nav-link" href="#recursive-queries"><span class="header-section-number">3.26</span> Recursive Queries</a></li>
<li><a class="nav-link" href="#bag-semantics"><span class="header-section-number">3.27</span> Bag Semantics</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>CSE 560 - Notes</strong>" was written by Jason Caballes. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
